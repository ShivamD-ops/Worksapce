<!-- 
 Created by -> Shivam Devaser
 on-> 5-12-2024


Fetch all tasks and iterate over all_tasks to display them
if context contains create_task_form load the div of create task form
if context contains update_task_form load the div of update_task_form -->
<div style="background-color: black; color: white;">
    <div  style="background-color: aliceblue; color: black">
        <a href="/create/">Add NEW Task</a>
    </div>
    <!-- Below is shown if context has create form -->
    {% if create_task_form %}
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        {{ create_task_form.as_p }}
        <input type="submit" value="submit"></input>
        <a href="/"> to all tasks</a>
    </form>
    {% endif %}
    <hr>
    <!-- Below is loaded if context has update -->
    {% if update_task_form %}
    <form method="Post">
        {% csrf_token %}
        {{ update_task_form.as_p}}
        <input type="submit" value="Update"></input>
    </form>
    {% endif %}
    <hr>
    <!-- loop over all tasks recieved in context -->
    {% for data in all_tasks %}
    <label>Task ID:</label>
    {{data.id }} 
    <br>
    <label>Task Title:</label>
    {{data.title }} 
    <br>
    <label>Task Description</label>
    {{data.description }}
    <br>
    <label>Task Completed:</label>
    {{data.completed }} 
    <br>
    <label>Task Created at:</label>
    {{data.created_at }}
    <br>
    <br>
    <!-- update tasks href to that id -->
    <a href="/update_task/{{data.id}}">Update</a>
    <br>
    <!-- delete that task with this id -->
    <a href="/delete_task/{{data.id}}">Delete</a>
    <hr />
   
    {% endfor %}
</div>